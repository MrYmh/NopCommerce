@using Nop.Web.Areas.Admin.Models.Warehouses
@model WarehouseCategoryMappingModel

<div class="card-body">
    @(await Html.LocalizedEditorAsync<WarehouseCategoryMappingModel, WarehouseCategoryMappingLocalizedModel>("WarehouseCategoryMapping-name-localized",
    @<div>
        @*Generate FormLocalizedprops here*@
        <input type="hidden" asp-for="@Model.Locales[item].LanguageId" />
    </div>
        ,
    @<div>
        @*Generate Formprops here*@

        <div class="form-group row">
            <div class="col-md-3">
                <nop-label asp-for="Name" />
            </div>
            <div class="col-md-9">
                <nop-select asp-for="SelectedWarehouseCategoriesIds" asp-required="true" asp-items="@Model.AvailableWarehouseCategories" />
                <span asp-validation-for="SelectedWarehouseCategoriesIds"></span>
            </div>
        </div>
        @* <div class="form-group row">
            <div class="col-md-3">
                <nop-label asp-for="StandId" />
            </div>
            <div class="col-md-9">
                <nop-editor asp-for="StandId" asp-required="true" />
                <span asp-validation-for="StandId"></span>
            </div>
        </div> *@

    </div>))


</div>

<script>
    $(document).ready(function ()
    {
        // Applying styles to the select element
        $('#SelectedWarehouseCategoriesIds').css({
            'height': 'auto',
            'max-height': '150px',
            'overflow-y': 'auto',
            'border': '1px solid #ced4da',
            'border-radius': '0.25rem',
            'padding': '0.375rem 0.75rem'
        });

        // Change overflow on hover or focus
        $('#SelectedWarehouseCategoriesIds').hover(
            function () { $(this).css('overflow-y', 'scroll'); },
            function () { $(this).css('overflow-y', 'auto'); }
        );

        $('#SelectedWarehouseCategoriesIds').focus(function () {
            $(this).css('overflow-y', 'scroll');
        }).blur(function () {
            $(this).css('overflow-y', 'auto');
        });

        // Style the options via CSS as jQuery cannot directly style pseudo-elements or options
        $('head').append('<style>#SelectedWarehouseCategoriesIds option:checked { background-color: #007bff; color: white; }</style>');

        // Add the Bootstrap Select class, enable multiple selection, and enable live search
        $('#SelectedWarehouseCategoriesIds').addClass('form-control')
            .attr('multiple', 'multiple')

    });
    
</script>